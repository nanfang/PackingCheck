(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{17:function(e,t,a){},22:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAMAAADzN3VRAAAAAXNSR0IB2cksfwAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAlhQTFRFAAAAftbKZ8/BZc/AddTGZ8/AY86/Yc2+Yc6/Zs/BYc2+X82+YM2+ZM/AZ8/BZM/AYc2/YM2+YM2+Y86/adDCftfLY87AYM2/X82+Ys6/Z8/BbNHEeNXIZ9DBYs7AYs6/Yc2/Yc6/Ys6/Y86/Yc6/X82+YM2+ZM7AZ8/BZs/BYc6/Yc6/Ys6/ZM/AZc/AZM7AY87AY86/Ys6/YM2+X82+Y86/btHEYc6/aNDCbtLEbNHDYM6/X82+YM2/adDCYs6/Y86/cdLFatDCbNHDZc/BYs6/X82+Yc6/Yc6/Zc/AY86/Zc/BZc/BYs6/ZM/AbtLEY87AYM2+Yc6/a9HDYc6/Ys6/Y87AZs/BaM/BYc6/YM2+ZtDBbtLEZs/BYs6/X82+Yc2/ZM7AdNPGYc6/X82+cdPFYs6/X82+Ys6/Zs/BaM/BYc6/X82+Zc/AaNDBY8/AYM2+X82+Y86/Y8/AYM2+Ys2/jdvQZtDBYc6/Yc2+Z9DCb9HFZ8/BYc2/YM2+ZM7AcNLFZdDBY86/Z8/BYs6/Ys6/adDCd9TIYc6/Ys6/YM2+Z8/BYs6/YM2+atDDZM7AYM2/Ys6/b9LEadDCYM2+YM2+ZM6/dtTHYs6/Yc6/Zs/BY86/Zc/AZ9DBYM2+aM/CbtLEYc6/Yc6/Ys6/Y86/btHEcNPFZ8/BZc/AZc/BZM7AYc2/Zc/AYs6/Yc6/Z8/Cb9LFgNfLZM7AYM2+Ys6/b9PEZs/AYs6/Yc2/Yc6/YM2+X82+X82+Ys6/Yc6/Ys2/ZM/AZtDBYs6/YM2+X82+Y86/atDDgNjMLHNgjwAAAMh0Uk5TAAEoPgEkgMW6OMf/4loJP8nyyGcMBWLc+qAkBAEgbpaqqp5+zvv4bgwvq8qhiIeHh4fE9P6QDMMnBRjZ/ckg0XQFCAQXifnczCzrSk2ARQt78LhawkHsQjbJ7S8BILn4wygyvkQDb/asIg+R80IFK9H8fWHsoAERmtEpAxTM3koCR60peJAKBNPB6R6K1wNJ5IsBHMDqTQJ/rhnqRhjSJDzAQc55AgESKiKNxit9208JA2PznAYppsujhYKDmsarOBdOXV5HDwFMCMKVAAABWElEQVR4nGNgwAoYmZixirOwsrFzYJXh5OLm4cUizscvICgkLIIpISomLiEpJc3AICMrJ6+gCAdKyiqqauoaICWaWto6unp6+vr6BgaGhoZGxiaCpmZgzfLmFpYIo6ysbbht7SBsewdHJ2eYhIurjZu7hyeE4+Xt4+sHlfAPCOQOCg4JhfDCwiMio6JjQMzYuHjuhMSk5BSYTGpaekYmkJWVLcGdk5uHJMOQX1BYBGQVl3AXlpYxIMuUV3BXVlXX1Npw19UzoMg0NHLbNDW3cHObtLahyjC0d3Bzd3Zxq+p0M6DJMPTEc0vYcPdq9mHI9E/gBpo1cRIDhszkKUCZqdMYMGWmzwDKzJyFKjN7DoicqzQvYT5EYMHCRRDG4iVLgeSy5StWQvhOq1avgbDWrlu/ASlGN27avGUrhLlt+46du3bDwJ69+/YfgKk6eOjwESRw9NhxiDgAPZ5znMGwkIAAAAAASUVORK5CYII="},25:function(e,t,a){e.exports=a(54)},30:function(e,t,a){},31:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(18),s=a.n(l),r=(a(30),a(31),a(6)),i=a(5),o=a.n(i),m=a(19),d=a(20),u=a(21),p=a(24),h=a(23),Y=a(3),k=a.n(Y),f=(a(49),function(e){var t="list-group-item";return e.isSelected&&(t="list-group-item active"),c.a.createElement("li",{className:t,onClick:e.select},e.name,c.a.createElement("a",{href:"#remove",className:"float-right",onClick:e.remove},"Remove",e.isSelected&&c.a.createElement("div",{className:"float-right offset-right"},c.a.createElement("svg",{width:"1em",height:"1em",viewBox:"0 0 16 16",className:"bi bi-chevron-right",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},c.a.createElement("path",{fillRule:"evenodd",d:"M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"})))))}),E=(a(50),a(2)),v=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,l=new Array(n),s=0;s<n;s++)l[s]=arguments[s];return(e=t.call.apply(t,[this].concat(l))).state={newPack:"",packs:[],selectedPack:{id:null,name:""},packItems:null,newItem:""},e.loadPacks=Object(m.a)(o.a.mark((function t(){var a,n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.props.auth0.getAccessTokenSilently,t.next=3,a();case 3:n=t.sent,console.log("access_token = ",n),k.a.get("/packs",{headers:{Authorization:"Bearer ".concat(n)}}).then((function(t){e.setState({packs:t.data})}));case 6:case"end":return t.stop()}}),t)}))),e.loadItems=function(t){if(null===t)return[];var a="/packs/".concat(t,"/items");k.a.get(a).then((function(t){e.setState({packItems:t.data})}))},e.addPack=function(){var t=Object(r.a)(e.state.packs);if(e.state.newPack.trim().length>0){var a={name:e.state.newPack};k.a.post("/packs",a).then((function(n){a.id=n.data.pack.id,t.unshift(a),e.setState({packs:t})}))}},e.addItem=function(){var t=e.state.newItem.trim();if(e.state.packItems)for(var a=0;a<e.state.packItems.length;a++)if(e.state.packItems[a].name===t)return void console.log("Existed item, abort adding");if(e.state.selectedPack.id&&e.state.newItem.trim().length>0){var n=Object(r.a)(e.state.packItems),c={name:t},l=e.state.selectedPack.id;k.a.post("/packs/".concat(l,"/items"),c).then((function(t){c.id=t.data.itemId,n.unshift(c),e.setState({packItems:n})}))}},e.removePack=function(t,a){console.log("remove pack ".concat(t)),k.a.delete("/packs/".concat(t)).then((function(a){e.setState({packs:e.state.packs.filter((function(e,a){return e.id!==t}))}),t===e.state.selectedPack.id&&e.setState({selectedPack:{id:null,name:""},items:null})})),a.stopPropagation()},e.getPackName=function(t){for(var a=0;a<e.state.packs.length;a++)if(e.state.packs[a].id===t)return e.state.packs[a].name;return""},e.selectPack=function(t,a){if(e.state.selectedPack.id!==t){var n=e.getPackName(t);e.setState({selectedPack:{id:t,name:n},packItems:null}),e.loadItems(t)}},e.packsForRender=function(){return e.state.packs.map((function(t,a){return c.a.createElement(f,{key:t.id,name:t.name,isSelected:t.id===e.state.selectedPack.id,select:function(a){return e.selectPack(t.id,a)},remove:function(a){return e.removePack(t.id,a)}})}))},e.itemsForRender=function(){var t=null===e.state.selectedPack.id?c.a.createElement("tr",null,c.a.createElement("td",null,"Please select a pack to show items")):c.a.createElement("tr",null,c.a.createElement("td",null,"Loading ...!"));return e.state.selectedPack.id&&null!==e.state.packItems&&(console.log("render items",e.state.packItems),t=e.state.packItems.map((function(e,t){return c.a.createElement("tr",{key:e.id},c.a.createElement("th",{scope:"row"},t+1),c.a.createElement("td",null,e.name),c.a.createElement("td",null," ",c.a.createElement("div",{className:"float-right my-text-primary-color ml-2"},c.a.createElement("a",{href:"#delete"},"\u2297")),c.a.createElement("div",{className:"float-right my-text-primary-color"},c.a.createElement("a",{href:"#up",className:"px-2"},"\u25b3"),c.a.createElement("a",{href:"#down"},"\u25bd"))))}))),t},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.loadPacks()}},{key:"render",value:function(){var e=this,t=this.props.auth0,a=t.user;t.getAccessTokenSilently;console.log("user=",a);var n=this.packsForRender(),l=this.itemsForRender();return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row mt-5"},c.a.createElement("div",{className:"col-md"},c.a.createElement("div",{className:"card bg-white"},c.a.createElement("div",{className:"card-header mx-auto shadow p-3 bg-white rounded vert-offset-top",style:{width:"98%"}},c.a.createElement("h4",{className:"card-title text-left"},"Packs"),c.a.createElement("div",{className:"input-group mb-3 mx-auto",style:{width:"100%"}},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"Your next destination",value:this.state.newPack,onChange:function(t){e.setState({newPack:t.target.value})}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"input-group-text",onClick:this.addPack},"Create a new pack")))),c.a.createElement("div",{className:"card-body"},c.a.createElement("ul",{className:"list-group text-left"},n)))),c.a.createElement("div",{className:"col-md"},c.a.createElement("div",{className:"card packing-items"},c.a.createElement("div",{className:"card-header mx-auto",style:{width:"100%"}},c.a.createElement("div",{className:"float-left"},c.a.createElement("h4",{className:"card-title text-left"},"Your trip ",this.state.selectedPack.name," "),c.a.createElement("h6",{className:"card-subtitle text-left text-muted"},"Checklist")),c.a.createElement("div",{className:"float-right"},c.a.createElement("button",{className:"btn btn-info btn-lg mt-1"},"Start Checking"))),c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"card-text text-left"},this.state.selectedPack.id&&c.a.createElement("div",{className:"input-group mb-3 mx-auto",style:{width:"100%"}},c.a.createElement("input",{type:"text",className:"form-control",id:"add-item",placeholder:"Add new item",value:this.state.newItem,onChange:function(t){e.setState({newItem:t.target.value})}}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"input-group-text",onClick:this.addItem},"+"))),c.a.createElement("table",{className:"table table-striped table-responsive-sm text-muted"},c.a.createElement("tbody",null,l))))))))}}]),a}(n.Component),A=Object(E.c)(v),g=(a(53),a(17),a(22)),b=a.n(g),N=function(){var e=Object(E.b)().loginWithRedirect;return c.a.createElement("button",{className:"btn btn-sm btn-outline-dark my-1 py-0",onClick:function(){return e()}},"Sign In")},M=function(){var e=Object(E.b)().logout;return c.a.createElement("button",{className:"btn btn-sm btn-outline-dark my-1 py-0",onClick:function(){return e({returnTo:window.location.origin})}},"Log Out")},w=function(e){var t=Object(E.b)(),a=t.user,n=t.isAuthenticated,l=n?c.a.createElement(M,null):c.a.createElement(N,null);return c.a.createElement("header",null,c.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light"},c.a.createElement("div",{className:"container-fluid"},c.a.createElement("a",{href:"index.html",className:"navbar-brand"},c.a.createElement("img",{src:b.a,className:"img-fluid mr-2 py-2",alt:"Packing Check"}),"Packing Check"),c.a.createElement("button",{className:"navbar-toggler","data-toggle":"collapse","data-target":"#navbarCollapse"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},c.a.createElement("ul",{className:"navbar-nav ml-auto"},c.a.createElement("li",{className:"nav-item active"},c.a.createElement("a",{href:"/",className:"nav-link"},"Home")),n&&c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{href:"#",className:"nav-link"},a.name)),c.a.createElement("li",{className:"nav-item"},l))))))},Z=function(e){return c.a.createElement("footer",{className:"footer text-muted fixed-bottom",id:"main-footer"},c.a.createElement("div",{className:"container"},c.a.createElement("p",null,"Copyright \xa9 ",c.a.createElement("span",{id:"year"})," PackingCheck")))},B=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(w,null),c.a.createElement("main",null,e.children),c.a.createElement(Z,null))},I=function(e){return c.a.createElement("div",null,c.a.createElement("h1",null,"Hello World!"))},P=function(){var e=Object(E.b)().isAuthenticated?c.a.createElement(A,null):c.a.createElement(I,null);return c.a.createElement("div",{className:"App"},c.a.createElement(B,null,e))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));k.a.defaults.baseURL="http://localhost:8080/v1",s.a.render(c.a.createElement(E.a,{domain:"packingcheck.auth0.com",clientId:"e56qkqH674o9j7KafIsGZtKB3veh7vTl",redirectUri:window.location.origin,audience:"https://api.packingcheck.com/",scope:"read:all update:all"},c.a.createElement(c.a.StrictMode,null,c.a.createElement(P,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[25,1,2]]]);
//# sourceMappingURL=main.afb7eca6.chunk.js.map